constﾂ{ﾂstickerﾂ}ﾂ=ﾂrequire('../lib/sticker.js'); 
 constﾂuploadFileﾂ=ﾂrequire('../lib/uploadFile.js'); 
 constﾂuploadImageﾂ=ﾂrequire('../lib/uploadImage.js'); 
 constﾂ{ﾂwebp2pngﾂ}ﾂ=ﾂrequire('../lib/webp2mp4.js'); 
 letﾂhandlerﾂ=ﾂasyncﾂ(m,ﾂ{ﾂconn,ﾂargs,ﾂusedPrefix,ﾂcommandﾂ})ﾂ=>ﾂ{ 
 letﾂstikerﾂ=ﾂfalse 
 tryﾂ{ 
 letﾂqﾂ=ﾂm.quotedﾂ?ﾂm.quotedﾂ:ﾂm 
 letﾂmimeﾂ=ﾂ(q.msgﾂ||ﾂq).mimetypeﾂ||ﾂq.mediaTypeﾂ||ﾂ'' 
 ifﾂ(/webp|image|video/g.test(mime))ﾂ{ 
 ifﾂ(/video/g.test(mime)) 
 ifﾂ((q.msgﾂ||ﾂq).secondsﾂ>ﾂ11)ﾂreturnﾂm.reply('*[笶歴攝芋攝昨攝攝寂摎]ﾂ撕ｴ撕ｻﾂ撓撕ｸ撕ｳ撕ｴ撕ｾﾂ撕ｽ撕ｾﾂ撕ｿ撓撕ｴ撕ｳ撕ｴﾂ撕ｳ撓撓Å撕ｰ撓ﾂ撕ｼ撕ｰ撓つ撕ｳ撕ｴﾂ10ﾂ撓を撕ｴ撕ｶ撓撕ｽ撕ｳ撕ｾ撓*') 
 letﾂimgﾂ=ﾂawaitﾂq.download?.() 
 ifﾂ(!img)ﾂthrowﾂ`*[笶歴攝芋攝昨攝攝寂摎]ﾂ撓Å撕ｴ撓を撕ｿ撕ｾ撕ｽ撕ｳ撕ｴﾂ撕ｰﾂ撓撕ｽﾂ撓撕ｸ撕ｳ撕ｴ撕ｾ,ﾂ撕ｸ撕ｼ撕ｰ撕ｶ撕ｴ撕ｽﾂ撕ｾﾂ撕ｸ撕ｽ撓を撕ｴ撓Å撓撕ｴﾂ撕ｴ撕ｻﾂ撕ｴ撕ｽ撕ｻ撕ｰ撕ｲ撕ｴﾂ撕ｳ撕ｴﾂ撓撕ｽ撕ｰﾂ撕ｸ撕ｼ撕ｰ撕ｶ撕ｴ撕ｽﾂ撓撕ｴ撓Å撕ｼ撕ｸ撕ｽ撕ｰ撕ｲ撕ｸ撕ｾﾌÅ撕ｽﾂ.撓汝撓咀撓青撕ｴ撕ｻﾂ撕ｲ撓撕ｰ撕ｻﾂ撓を撕ｴ撓Å撕ｰﾂ撕ｲ撕ｾ撕ｽ撓撕ｴ撓Å撓撕ｸ撕ｳ撕ｾﾂ撕ｴ撕ｽﾂ撓を撓撕ｸ撕ｲ撕ｺ撕ｴ撓,ﾂ撕ｳ撕ｴ撕ｱ撕ｴﾂ撓Å撕ｴ撓を撕ｿ撕ｾ撕ｽ撕ｳ撕ｴ撓ﾂ撕ｾﾂ撓撓を撕ｰ撓ﾂ撕ｴ撕ｻﾂ撕ｲ撕ｾ撕ｼ撕ｰ撕ｽ撕ｳ撕ｾﾂ${usedPrefixﾂ+ﾂcommand}*` 
 letﾂout 
 tryﾂ{ 
 ifﾂ(/webp/g.test(mime))ﾂoutﾂ=ﾂawaitﾂwebp2png(img) 
 elseﾂifﾂ(/image/g.test(mime))ﾂoutﾂ=ﾂawaitﾂuploadImage(img) 
 elseﾂifﾂ(/video/g.test(mime))ﾂoutﾂ=ﾂawaitﾂuploadFile(img) 
 ifﾂ(typeofﾂoutﾂ!==ﾂ'string')ﾂoutﾂ=ﾂawaitﾂuploadImage(img) 
 stikerﾂ=ﾂawaitﾂsticker(false,ﾂout,ﾂglobal.packname,ﾂglobal.author) 
 }ﾂcatchﾂ(e)ﾂ{ 
 console.error(e) 
 }ﾂfinallyﾂ{ 
 ifﾂ(!stiker)ﾂstikerﾂ=ﾂawaitﾂsticker(img,ﾂfalse,ﾂglobal.packname,ﾂglobal.author) 
 } 
 }ﾂelseﾂifﾂ(args[0])ﾂ{ 
 ifﾂ(isUrl(args[0]))ﾂstikerﾂ=ﾂawaitﾂsticker(false,ﾂargs[0],ﾂglobal.packname,ﾂglobal.author) 
 elseﾂreturnﾂm.reply('*[笶歴攝芋攝昨攝攝寂摎]ﾂ撕ｴ撕ｻﾂ撕ｴ撕ｽ撕ｻ撕ｰ撕ｲ撕ｴﾂ/ﾂ撓撓Å撕ｻﾂ/ﾂ撕ｻ撕ｸ撕ｽ撕ｺﾂ撕ｽ撕ｾﾂ撕ｴ撓つ撓撕ｰ撕ｻ撕ｸ撕ｳ撕ｰ,ﾂ撕ｻ撕ｰﾂ撓撕ｴ撓Å撕ｼ撕ｸ撕ｽ撕ｰ撕ｲ撕ｸ撕ｾ撕ｽﾂ撕ｳ撕ｴ撕ｻﾂ撕ｴ撕ｽ撕ｻ撕ｰ撕ｲ撕ｴﾂ/ﾂ撓撓Å撕ｻﾂ/ﾂ撕ｻ撕ｸ撕ｽ撕ｺﾂ撕ｳ撕ｴ撕ｱ撕ｴﾂ撓を撕ｴ撓ﾂ.撓汝撓咀撓,ﾂ撕ｴ撕ｹ撕ｴ撕ｼ撕ｿ撕ｻ撕ｾ:ﾂ#sﾂhttps://telegra.ph/file/0dc687c61410765e98de2.jpg*') 
 } 
 }ﾂcatchﾂ(e)ﾂ{ 
 console.error(e) 
 ifﾂ(!stiker)ﾂstikerﾂ=ﾂe 
 }ﾂfinallyﾂ{ 
 ifﾂ(stiker)ﾂconn.sendFile(m.chat,ﾂstiker,ﾂ'sticker.webp',ﾂ'',ﾂm) 
 elseﾂthrowﾂ'*[笶歴攝芋攝昨攝攝寂摎]ﾂ撕ｻ撕ｾﾂ撓を撕ｸ撕ｴ撕ｽ撓撕ｾ,ﾂ撕ｾ撕ｲ撓撓Å撓Å撕ｸ撕ｾﾂ撓撕ｽﾂ撕ｴ撓Å撓Å撕ｾ撓,ﾂ撓撓撕ｴ撕ｻ撓撕ｰﾂ撕ｰﾂ撕ｸ撕ｽ撓撕ｴ撓Å撕ｽ撓撕ｰ撓Å撕ｻ撕ｾ.ﾂ撕ｽ撕ｾﾂ撕ｾ撕ｻ撓撕ｸ撕ｳ撕ｴﾂ撓Å撕ｴ撓を撕ｿ撕ｾ撕ｽ撕ｳ撕ｴﾂ撕ｰﾂ撓撕ｽﾂ撓撕ｸ撕ｳ撕ｴ撕ｾ,ﾂ撕ｸ撕ｼ撕ｰ撕ｶ撕ｴ撕ｽﾂ撕ｾﾂ撕ｸ撕ｽ撓を撕ｴ撓Å撓撕ｴﾂ撕ｴ撕ｻﾂ撕ｴ撕ｽ撕ｻ撕ｰ撕ｲ撕ｴﾂ撕ｳ撕ｴﾂ撓撕ｽ撕ｰﾂ撕ｸ撕ｼ撕ｰ撕ｶ撕ｴ撕ｽﾂ撓撕ｴ撓Å撕ｼ撕ｸ撕ｽ撕ｰ撕ｲ撕ｸ撕ｾﾌÅ撕ｽﾂ.撓汝撓咀撓青撕ｴ撕ｻﾂ撕ｲ撓撕ｰ撕ｻﾂ撓を撕ｴ撓Å撕ｰﾂ撕ｲ撕ｾ撕ｽ撓撕ｴ撓Å撓撕ｸ撕ｳ撕ｾﾂ撕ｴ撕ｽﾂ撓を撓撕ｸ撕ｲ撕ｺ撕ｴ撓*' 
 }} 
 handler.helpﾂ=ﾂ['stikerﾂ(caption|replyﾂmedia)',ﾂ'stikerﾂ<url>',ﾂ'stikergifﾂ(caption|replyﾂmedia)',ﾂ'stikergifﾂ<url>'] 
 handler.tagsﾂ=ﾂ['general'] 
 handler.commandﾂ=ﾂ/^s(tic?ker)?(gif)?(wm)?$/i 
 module.exportsﾂ=ﾂhandler 
 constﾂisUrlﾂ=ﾂ(text)ﾂ=>ﾂ{ 
 returnﾂtext.match(newﾂRegExp(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&/=]*)(jpe?g|gif|png)/,ﾂ'gi'))}
